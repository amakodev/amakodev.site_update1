import{R as t,r as e}from"./react-vendor-CqEpiFl-.js";import{u as r,a as i,b as s,j as a,m as n}from"./framer-motion-D_acYgdO.js";const c=t.memo((()=>{const t=e.useRef(null),c=e.useRef(null),h=e.useRef([]),o=e.useRef({x:0,y:0}),l=e.useRef(0),u=e.useRef(0),[d,f]=e.useState(!1),{scrollYProgress:g}=r(),m=i(g,{stiffness:50,damping:20}),w=s(m,[0,1],["0%","20%"]);class x{constructor(t,e,r,i){this.accX=0,this.accY=0,this.friction=.92,this.x=Math.random()*t-t/2,this.y=Math.random()*e-e/2,this.z=Math.random()*r,this.radius=1.2*Math.random()+.3,this.color=i[Math.floor(Math.random()*i.length)],this.initialX=this.x,this.initialY=this.y,this.vx=0,this.vy=0}update(t,e,r,i,s,a){if(a&&(this.x<-r||this.x>r||this.y<-i||this.y>i))return;const n=(t-r/2)/(r/2),c=(e-i/2)/(i/2),h=this.z/2e3,o=this.initialX-30*n*h,l=this.initialY-30*c*h,u=s/16.67*.008;this.accX=(o-this.x)*u,this.accY=(l-this.y)*u,this.vx+=this.accX,this.vy+=this.accY,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy}draw(t,e,r,i){const s=this.x+e/2,a=this.y+r/2,n=1e3/(1e3+this.z);if(n<.2||s<-10||s>e+10||a<-10||a>r+10)return;const c=Math.min(1,1.5*n);t.beginPath(),t.arc(s,a,this.radius*n,0,2*Math.PI),t.fillStyle=this.color,t.globalAlpha=c,t.fill(),n>.8&&!i&&(t.beginPath(),t.arc(s,a,this.radius*n*2,0,2*Math.PI),t.fillStyle=this.color,t.globalAlpha=.15*c,t.fill())}}const b=e.useCallback((()=>{if(!c.current)return;const t=c.current,e=t.width,r=t.height,i=window.navigator.hardwareConcurrency<=4||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);f(i);const s=i?80:150,a=1e3,n=["rgba(59, 130, 246, 0.8)","rgba(139, 92, 246, 0.8)","rgba(14, 165, 233, 0.8)","rgba(79, 70, 229, 0.8)","rgba(236, 72, 153, 0.7)"];h.current=[];for(let c=0;c<s;c++)h.current.push(new x(e,r,a,n))}),[]),v=e.useCallback((t=>{if(!c.current)return;const e=c.current,r=e.getContext("2d",{alpha:!0});if(!r)return;const i=u.current?t-u.current:16.67;u.current=t,r.clearRect(0,0,e.width,e.height),h.current.forEach((t=>{t.update(o.current.x,o.current.y,e.width,e.height,i,d),t.draw(r,e.width,e.height,d)})),l.current=requestAnimationFrame(v)}),[d]),p=e.useCallback((()=>{if(!c.current||!t.current)return;const e=c.current,r=d?1:window.devicePixelRatio||1;e.width=window.innerWidth*r,e.height=window.innerHeight*r;const i=e.getContext("2d");i&&r>1&&!d&&i.scale(r,r),b()}),[b,d]),y=e.useCallback((t=>{u.current&&performance.now()-u.current<16||(o.current={x:t.clientX,y:t.clientY})}),[]);return e.useEffect((()=>{if(c.current&&t.current)return p(),l.current=requestAnimationFrame(v),window.addEventListener("resize",p),window.addEventListener("mousemove",y,{passive:!0}),()=>{cancelAnimationFrame(l.current),window.removeEventListener("resize",p),window.removeEventListener("mousemove",y)}}),[v,p,y]),a.jsxs(n.div,{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none",style:{y:w},children:[a.jsx("canvas",{ref:c,className:"absolute inset-0 w-full h-full z-0",style:{transform:d?"translateZ(0)":void 0,willChange:d?"auto":"transform"}}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(56,189,248,0.08),rgba(17,24,39,0.5))] z-10"}),!d&&a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.01)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.01)_1px,transparent_1px)] bg-[size:100px_100px] [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black_70%)] z-20"})]})}));export{c as default};
